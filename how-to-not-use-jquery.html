<!doctype html>
<html lang="en-GB">
<head>
	<meta charset="UTF-8">
	<title>How to not use jQuery</title>

	<link rel="stylesheet" href="build/style.css">
</head>
<body>
	<div class="slides">
		<div class="slide slide--title">
			<img src="./images/js.svg" width="200">
			<h1>How to not use jQuery</h1>
			<p>Callum Macrae | @callumacrae</p>
		</div>

		<div class="slide slide--title">
			<h1>@callumacrae</h1>
			<p>JavaScript developer at Lost My Name</p>
			<p>Author of "Learning from jQuery"</p>
		</div>

		<div class="slide slide--title">
			<h1>What even is jQuery?</h1>
		</div>

		<div class="slide slide--code">
			<h1>What even is jQuery?</h1>
			<pre><code class="language-js">var $uncle = $('.foo').parent().next();
$uncle.css('background-color', 'red');</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>What even is jQuery?</h1>
			<pre><code class="language-js">$('.foo').on('click', function (e) {
	e.preventDefault();

	$(this).html('This has been clicked!');
});</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>What even is jQuery?</h1>
			<pre><code class="language-js">$.get('/user.json', { name: 'Callum' })
	.then(function (data) {
		$('.callum').html('Callum\'s data: ' + data);
	})
	.catch(function (err) {
		$('.callum').text('AJAX request failed :-(');
		console.error(err);
	});</code></pre>
		</div>

		<div class="slide slide--title">
			<h1>What about ES2015?</h1>
		</div>

		<div class="slide slide--title">
			<h1>What about ES2015?</h1>

			<blockquote class="twitter-tweet" lang="en"><p lang="en" dir="ltr">So, for you, is it ES6 or JavaScript/ES 2015? Alternate options welcomed as responses!</p>&mdash; JavaScript Live (@JavaScriptDaily) <a href="https://twitter.com/JavaScriptDaily/status/662020174837583872">November 4, 2015</a></blockquote>
			<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
		</div>

		<div class="slide slide--code">
			<h1>let + const</h1>
			<pre><code class="language-js">if (true) {
	var first = 'inside';
	let second = 'inside';

	console.log(first, second); // inside, inside
}

console.log(first, second); // inside, undefined</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>let + const</h1>
			<pre><code class="language-js">// Doesn't work as expected
for (var i = 0; i < 10; i++) {
	setTimeout(function () {
		console.log(i);
	}, 100);
}

// Works as expected
for (var i = 0; i < 10; i++) {
	let j = i;
	setTimeout(function () {
		console.log(j);
	}, 100);
}</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>Destructuring</h1>
			<pre><code class="language-js">let [a, b, c] = [1, 2, 3];
let [match, name] = /name: (\S+)/.exec('name: Callum');
let [, name] = /name: (\S+)/.exec('name: Callum');</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>Destructuring</h1>
			<pre><code class="language-js">let { one, two, three } = { one: 'Un', two: 'Deux', three: 'Trois' };
console.log(three); // Trois

// Destructuring with function arguments
function logUser({ name, colour }) {
	console.log(name + ' likes ' + colour);
}
logUser({ name: 'Callum', colour: 'orange' });</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>Destructuring</h1>
			<pre><code class="language-js">let { one, two, three } = { one: 'Un', two: 'Deux', three: 'Trois' };
console.log(three); // Trois

// Destructuring with function arguments
function logUser({ name, colour }) {
	console.log(name + ' likes ' + colour);
}
logUser({ name: 'Callum', colour: 'orange' });</code></pre>

				<pre><code class="language-js">// { name } == { name: name }</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>Default arguments</h1>
			<pre><code class="language-js">function log(msg, level = 'log') {
	console[level](msg);
}

log('console.log()');
log('console.error()', 'error');</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>Default arguments + destructuring</h1>
			<pre><code class="language-js">function greet({ greeting = 'hello', greetee = 'world' }) {
  console.log(greeting + ', ' + greetee + '!');
}

greet({ greetee: 'Front-End London' })</code></pre>
		</div>

		<div class="slide slide--title">
			<h1>Replacing jQuery</h1>
		</div>

		<div class="slide slide--code">
			<h1>DOM: Selecting</h1>
			<pre><code class="language-js">// jQuery
$('.user .user__name')

// JavaScript
document.querySelectorAll('.user .user__name');</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>DOM: Iterating with forEach</h1>
			<pre><code class="language-js">// jQuery
$('.user').each(function () {
	console.log(this);
});

// JavaScript
let users = document.querySelectorAll('.user');
Array.from(users).forEach(function (user) {
	console.log(user);
});</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>DOM: Iterating with an iterator</h1>
			<pre><code class="language-js">// jQuery
$('.user').each(function () {
	console.log(this);
});

// JavaScript
let users = document.querySelectorAll('.user');
for (let user of users) {
	console.log(user);
}</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>DOM: Selecting children</h1>
			<pre><code class="language-js">// jQuery
$('.user').find('.user__tag');

// JavaScript
let users = document.querySelectorAll('.user');
let tags = [];

for (let user of users) {
	tags.push(...user.querySelectorAll('.user__tag'));
}</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>DOM: <code>.next()</code> / <code>.previous()</code> / <code>.parent()</code></h1>
			<pre><code class="language-js">let $user = $('.user');
let user = document.querySelector('.user');

$user.next();
user.nextElementSibling;

$user.previous();
user.previousElementSibling;

$user.parent();
user.parentNode;</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>DOM: Attributes</h1>
			<pre><code class="language-js">$user.attr('aria-live');
user.getAttribute('aria-live');

$user.attr('aria-live', 'Your username is invalid');
user.setAttribute('aria-live', 'Your username is invalid');

// Data attributes have a special API
user.dataset.userName = 'Callum';
user.dataset.userName; // Callum</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>DOM: <code>.html()</code> / <code>.text()</code> / <code>.val()</code></h1>
			<pre><code class="language-js">let $user = $('.user');
let user = document.querySelector('.user');

$user.html();
user.innerHTML;

$user.text();
user.textValue; // Not innerText!

$('.some-input').val();
document.querySelector('.some-input').value;</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>DOM: Classes</h1>
			<pre><code class="language-js">let $user = $('.user');
let user = document.querySelector('.user');

$user.addClass('user--admin');
user.classList.add('user--admin');

$user.removeClass('user--admin');
user.classList.remove('user--admin');

$user.toggleClass('user--admin');
user.classList.toggle('user--admin');

$user.hasClass('user--admin');
user.classList.contains('user--admin');</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>DOM: Styling</h1>
			<pre><code class="language-js">let $user = $('.user');
let user = document.querySelector('user');

$user.css('background-color', 'orange');
user.style.backgroundColor = 'orange';

$user.css('background-color');
getComputedStyle(user).backgroundColor;</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>Event handling</h1>
			<pre><code class="language-js">$('.user').on('click', function () {
	$(this).addClass('clicked');
});

let user = document.querySelector('user');
user.addEventListener('click', function () {
	user.classList.add('clicked');
});</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>Event handling</h1>
			<pre><code class="language-js">$(document).on('click', '.user', function () {
	$(this).addClass('clicked');
});

document.addEventListener('click', function (e) {
	if (e.target.matches('.user')) {
		e.target.classList.add('clicked');
	}
});</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>Event handling</h1>
			<pre><code class="language-js">$(document).on('click', '.user', function () {
	$(this).addClass('clicked');
});

function live(selector, event, cb) {
	document.addEventListener(event, function (e) {
		if (e.target.matches(selector)) {
			cb(e);
		}
	});
}

live('.user', 'click', function (e) {
	e.target.classList.add('clicked');
});</code></pre>
		</div>

		<div class="slide slide--code">
			<h1><code>$.Deferred()</code></h1>
			<pre><code class="language-js">var deferred = $.Deferred();

$('.yes').on('click', function () {
	deferred.resolve();
});

$('.no').on('click', function () {
	deferred.reject();
});

deferred
	.then(function () {
		console.log('success');
	})
	.fail(function () {
		console.log('fail');
	});</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>Promises</h1>
			<pre><code class="language-js">var promise = new Promise(function (resolve, reject) {
	$('.yes').on('click', resolve);
	$('.no').on('click', reject);
});

promise
	.then(() => console.log('success'))
	.catch(() => console.log('fail'));</code></pre>
		</div>

		<div class="slide slide--code">
			<h1><code>$.ajax()</code></h1>
			<pre><code class="language-js">$.get('/api')
	.then(function (data) {
		console.log(data);
	})
	.catch(function (err) {
		console.error(err);
	});</code></pre>
		</div>

		<div class="slide slide--code">
			<h1><code>XMLHttpRequest</code> <span class="emoji">&#x1F614;</span></h1>
			<pre><code class="language-js">var request = new XMLHttpRequest();
request.open('GET', '/api');

request.onload = function () {
	var data = this.response;
	if (this.status >= 200 && this.status < 400) {
		console.log(data);
	} else {
		console.error(data);
	}
};

request.onerror = function (err) {
	console.error(err);
};

request.send();</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>Fetch</h1>
			<pre><code class="language-js">fetch('/api')
	.then((res) => res.json());
	.then((data) => console.log(data))
	.catch((err) => console.error(err));</code></pre>
			<p style="font-size: 0.75em; margin-top: 20px">
				<a href="https://github.com/github/fetch">
					GitHub polyfill for <code>fetch()</code>
				</a>
			</p>
		</div>

		<div class="slide slide--code">
			<h1>Post form data</h1>
			<pre><code class="language-js">// jQuery
$.post('/api', $('.my-form').serialize());

// JavaScript
let form = document.querySelector('.my-form');
fetch('/api', {
	method: 'post',
	body: new FormData(form)
});</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>Array helpers</h1>
			<pre><code class="language-js">// Each
$.each(['a', 'b', 'c'], function (i, letter) {
	console.log(letter);
});

['a', 'b', 'c'].forEach(function (letter) {
	console.log(letter);
});

// Map
$.map(['a', 'b', 'c'], function (i, letter) {
	return letter.charCodeAt(0);
});

['a', 'b', 'c'].map(function (letter) {
	return letter.charCodeAt(0);
});</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>MORE array helpers</h1>
			<pre><code class="language-js">// ECMAScript 5
Array.prototype.reduce()
Array.prototype.filter()
Array.prototype.every()
Array.prototype.some()

// ECMAScript 6
Array.from() // second argument!
Array.of()
Array.prototype.entries()
Array.prototype.keys()
Array.prototype.values()
Array.prototype.find()
Array.prototype.findIndex()
Array.prototype.fill()
</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>JSON</h1>
			<pre><code class="language-js">$.parseJSON(data)</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>&nbsp;</h1>
			<h1>ಠ_ಠ</h1>
		</div>

		<div class="slide slide--code">
			<h1>Merging objects</h1>
			<pre><code class="language-js">// jQuery
function myPlugin(options) {
	options = $.extend({
		color: 'red',
		size: 3
	}, options);
}

// JavaScript
function myPlugin(options) {
	options = Object.assign({
		color: 'red',
		size: 3
	}, options);
}</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>Cloning objects</h1>
			<pre><code class="language-js">$.extend({}, objectToClone);

Object.assign({}, objectToClone);</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>Merging objects in ES2016</h1>
			<pre><code class="language-js">function myPlugin(options) {
	let defaults = {
		color: 'red',
		size: 2
	};

	options = {...defaults, ...options};
}</code></pre>
		</div>

		<div class="slide slide--code">
			<h1>Animation</h1>
			<ul>
				<li>CSS animations</li>
				<li>requestAnimationFrame</li>
				<li>A library like <a href="http://greensock.com/gsap">GSAP</a></li>
			</ul>
		</div>

		<div class="slide slide--title">
			<img src="./images/babel.svg" alt="Babel">
		</div>

		<div class="slide slide--title">
			<h1>Is jQuery necessary?</h1>
		</div>

		<div class="slide slide--text">
			<h1>oldIE</h1>
			<p>Caniuse / GA</p>
			<p>CSS2</p>
		</div>

		<div class="slide slide--text">
			<h1>Low barrier to entry</h1>
			<p>"Everyone knows jQuery, even the backend developers"</p>
		</div>

		<div class="slide slide--text">
			<h1>A bajillion libraries</h1>
		</div>

		<div class="slide slide--text">
			<h1>Browser quirks</h1>

			<blockquote class="twitter-tweet" lang="en"><p lang="en" dir="ltr">You might not need jQuery if you prefer to write your own shims, loops, error checks, and workarounds for inexplicable browser actions.</p>&mdash; Dave Methvin (@davemethvin) <a href="https://twitter.com/davemethvin/status/428979756236038144">January 30, 2014</a></blockquote>
			<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

			<p><a href="https://gist.github.com/rwaldron/8720084#file-reasons-md">Rick Waldron's list of 110 quirks fixed by jQuery</a></p>
		</div>

		<div class="slide slide--title">
			<h1>More ES2015</h1>
			<p>jQuery isn't enough.</p>
		</div>

		<div class="slide slide--code">
			<h1>Template literals</h1>
			<pre><code class="language-js"></code></pre>
		</div>

		<div class="slide slide--code">
			<h1>Generators</h1>
			<pre><code class="language-js"></code></pre>
		</div>

		<div class="slide slide--code">
			<h1>Classes</h1>
			<pre><code class="language-js"></code></pre>
		</div>

		<div class="slide slide--title">
			<h1>ES2016?!</h1>
		</div>

		<div class="slide slide--title">
			<h1>How to not use jQuery</h1>

			<ul>
				<li>Everything jQuery does can be done without jQuery</li>
				<li>ES2015 makes writing vanilla JavaScript even nicer</li>
				<li>jQuery absolutely still has its place
				<ul>
					<li>Better browser support</li>
					<li>Much easier to use</li>
				</ul>
				</li>
			</ul>
		</div>

		<div class="slide slide--title">
			<h1>Is jQuery really necessary?</h1>
			<p>Callum Macrae | @callumacrae</p>
		</div>


	</div>

	<script src="build/script.js"></script>
</body>
</html>
